{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "personnel.schema.json",
  "title": "Personnel Schema",
  "description": "Schéma de validation pour le personnel de la troupe",
  "type": "object",
  "required": ["personnel_id", "name", "roles", "status"],
  "properties": {
    "personnel_id": {
      "type": "string",
      "pattern": "^person_[0-9]{3,}$",
      "description": "Identifiant unique du membre (person_001, person_002, ...)"
    },
    "name": {
      "type": "string",
      "minLength": 1,
      "maxLength": 100,
      "description": "Nom complet du membre"
    },
    "email": {
      "type": "string",
      "format": "email",
      "description": "Email du membre"
    },
    "phone": {
      "type": "string",
      "pattern": "^[+]?[0-9\\s.-]{8,}$",
      "description": "Numéro de téléphone"
    },
    "roles": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string",
        "enum": [
          "player",
          "mc",
          "sound",
          "referee",
          "coach",
          "admin"
        ]
      },
      "description": "Rôles du membre dans la troupe"
    },
    "status": {
      "type": "string",
      "enum": ["active", "inactive", "guest"],
      "default": "active",
      "description": "Statut du membre"
    },
    "avatar_url": {
      "type": "string",
      "format": "uri",
      "description": "URL de l'avatar du membre"
    },
    "bio": {
      "type": "string",
      "maxLength": 500,
      "description": "Biographie courte"
    },
    "joined_date": {
      "type": "string",
      "format": "date",
      "description": "Date d'entrée dans la troupe"
    },
    "notes": {
      "type": "string",
      "maxLength": 1000,
      "description": "Notes administratives"
    },
    "created_at": {
      "type": "string",
      "format": "date-time"
    },
    "updated_at": {
      "type": "string",
      "format": "date-time"
    }
  }
}
